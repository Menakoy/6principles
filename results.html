<head>
<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:400,700" rel="stylesheet">
<link href='style.css' rel='stylesheet' type='text/css'>
<title>8values Results</title>
<link rel="icon" type="x-icon" href="icon.png">
<link rel="shortcut icon" type="x-icon" href="icon.png">
<meta charset="utf-8">
<script>
  version = "Test Edition #1" //Remember to update this before making changes to the test itself!
</script>
</head>
<script type="application/javascript"
        src="ideologies.js">
</script>

<body>
<h1>6principles</h1>
<hr>

<h1>Results</h1>

<h2>Heroic Axis: <span class="weight-300" id="heroic-label"></span></h2>
<div class="axis">
    <img id="img-equality" src="value_images/equality.svg" height="128pt"/>
    <div class="bar courage" id="bar-courage"><div class="text-wrapper" id="courage"></div></div>
    <div class="bar fear" id="bar-fear"><div class="text-wrapper" id="fear"></div></div>
    <img id="img-wealth" src="value_images/wealth.svg" height="128pt"/>
</div>
<h2>Sanctity Axis: <span class="weight-300" id="sanctity-label"></span></h2>
<div class="axis">
    <img id="img-might" src="value_images/might.svg" height="128pt"/>
    <div class="bar purity" id="bar-purity"><div class="text-wrapper" id="purity"></div></div>
    <div class="bar poison" id="bar-poison"><div class="text-wrapper" id="poison"></div></div>
    <img id="img-peace" src="value_images/peace.svg" height="128pt"/>
</div>
<h2>Collaboration Axis: <span class="weight-300" id="collaboration-label"></span></h2>
<div class="axis">
    <img id="img-liberty" src="value_images/liberty.svg" height="128pt"/>
    <div class="bar faith" id="bar-faith"><div class="text-wrapper" id="faith"></div></div>
    <div class="bar fragmentation" id="bar-fragmentation"><div class="text-wrapper" id="fragmentation"></div></div>
    <img id="img-authority" src="value_images/authority.svg" height="128pt"/>
</div>
<h2>Creation Axis: <span class="weight-300" id="creation-label"></span></h2>
<div class="axis">
    <img id="img-tradition" src="value_images/tradition.svg" height="128pt"/>
    <div class="bar creation" id="bar-creation"><div class="text-wrapper" id="creation"></div></div>
    <div class="bar disintigration" id="bar-disintigration"><div class="text-wrapper" id="disintigration"></div></div>
    <img id="img-progress" src="value_images/progress.svg" height="128pt"/>
</div>
<h2>Bounty Axis: <span class="weight-300" id="bounty-label"></span></h2>
<div class="axis">
    <img id="img-tradition" src="value_images/tradition.svg" height="128pt"/>
    <div class="bar prosperity" id="bar-prosperity"><div class="text-wrapper" id="prosperity"></div></div>
    <div class="bar hunger" id="bar-hunger"><div class="text-wrapper" id="hunger"></div></div>
    <img id="img-progress" src="value_images/progress.svg" height="128pt"/>
</div>
<h2>Conflict Axis: <span class="weight-300" id="conflict-label"></span></h2>
<div class="axis">
    <img id="img-tradition" src="value_images/tradition.svg" height="128pt"/>
    <div class="bar peace" id="bar-peace"><div class="text-wrapper" id="peace"></div></div>
    <div class="bar anger" id="bar-anger"><div class="text-wrapper" id="anger"></div></div>
    <img id="img-progress" src="value_images/progress.svg" height="128pt"/>
</div>
<h2>Closest Match: <span class="weight-300" id="ideology-label"></span></h2>
<p>Ideological matching is a work in progress, and is much less accurate than the values and axes.</p>
<p>You can send these results by copying and pasting the URL at the top of the page or using the image below. Think your matched ideology was wrong? Want to help us calibrate the test? Send the results along with your political ideology to us at eightvalues@gmail.com, or send us any comments, questions, or criticism. </p>
<hr/>
<img src="" id="banner">
<button class="button" onclick="location.href='index.html';" style="background-color: #2196f3;">Back</button> <br>

<script>
    function getQueryVariable(variable)
    {
           var query = window.location.search.substring(1)
           var vars = query.split("&")
           for (var i=0;i<vars.length;i++) {
                   var pair = vars[i].split("=")
                   if(pair[0] == variable) {return pair[1]}
           }
           return(NaN);
    }

    function setBarValue(name, value) {
        innerel = document.getElementById(name)
        outerel = document.getElementById("bar-" + name)
        outerel.style.width = (value + "%")
        innerel.innerHTML = (value + "%")
        if (innerel.offsetWidth + 20 > outerel.offsetWidth) {
            innerel.style.visibility = "hidden"
        }
    }

    heroicArray = ["Communist","Socialist","Social","Centrist","Market","Capitalist","Laissez-Faire"]
    sanctityArray = ["Cosmopolitan","Internationalist","Peaceful","Balanced","Patriotic","Nationalist","Chauvinist"]
    collaborationArray = ["Anarchist","Libertarian","Liberal","Moderate","Statist","Authoritarian","Totalitarian"]
    creationArray = ["Revolutionary","Very Progressive","Progressive","Neutral","Traditional","Very Traditional","Reactionary"]
    bountyArray = ["Anarchist","Libertarian","Liberal","Moderate","Statist","Authoritarian","Totalitarian"]
    conflictArray = ["Revolutionary","Very Progressive","Progressive","Neutral","Traditional","Very Traditional","Reactionary"]

    function setLabel(val,ary) {
        if (val > 100) { return "" } else
        if (val > 90) { return ary[0] } else
        if (val > 75) { return ary[1] } else
        if (val > 60) { return ary[2] } else
        if (val >= 40) { return ary[3] } else
        if (val >= 25) { return ary[4] } else
        if (val >= 10) { return ary[5] } else
        if (val >= 0) { return ary[6] } else
        	{return ""}
    }

    courage  = getQueryVariable("co")
    purity     = getQueryVariable("pu")
    faith   = getQueryVariable("f")
    creation  = getQueryVariable("cr")
    prosperity   = getQueryVariable("pr")
    peace  = getQueryVariable("pe")
    fear   = (100 - courage).toFixed(1)
    poison    = (100 - purity).toFixed(1)
    fragmentation = (100 - faith ).toFixed(1)
    disintigration = (100 - creation).toFixed(1)
    hunger = (100 - prosperity).toFixed(1)
    anger = (100 - peace).toFixed(1)

    setBarValue("courage", courage)
    setBarValue("purity", purity)
    setBarValue("peace", peace)
    setBarValue("faith", faith)
    setBarValue("creation", creation)
    setBarValue("prosperity", prosperity)
    setBarValue("fear", fear)
    setBarValue("poison", poison)
    setBarValue("fragmentation", fragmentation)
    setBarValue("disintigration", disintigration)
    setBarValue("hunger", hunger)
    setBarValue("anger", anger)

    document.getElementById("heroic-label").innerHTML = setLabel(courage, heroicArray)
    document.getElementById("sanctity-label").innerHTML = setLabel(purity, sanctityArray)
    document.getElementById("collaboration-label").innerHTML = setLabel(faith, collaborationArray)
    document.getElementById("creation-label").innerHTML = setLabel(creation, creationArray)
    document.getElementById("bounty-label").innerHTML = setLabel(prosperity, bountyArray)
    document.getElementById("conflict-label").innerHTML = setLabel(peace, conflictArray)

    ideology = ""
    //ideodist = Infinity
    //for (var i = 0; i < ideologies.length; i++) {
      //  dist = 0
      //  dist += Math.pow(Math.abs(ideologies[i].stats.econ - equality), 2)
      //  dist += Math.pow(Math.abs(ideologies[i].stats.govt - liberty), 2)
      //  dist += Math.pow(Math.abs(ideologies[i].stats.dipl - peace), 1.73856063)
      //  dist += Math.pow(Math.abs(ideologies[i].stats.scty - progress), 1.73856063)
      //  if (dist < ideodist) {
      //      ideology = ideologies[i].name
      //      ideodist = dist
      //  }
  //  }
  //  document.getElementById("ideology-label").innerHTML = ideology

    function createImage(src, x, y, w, h) {
        img = new Image ()
        img.src = src
        img.onLoad = function() {
            ctx.drawImage(img, x, y, w, h)
        }
    }

    window.onload = function() {
        var c = document.createElement("canvas")
        var ctx = c.getContext("2d")
        c.width = 2000;
        c.height = 1000;
        ctx.fillStyle = "#EEEEEE"
        ctx.fillRect(0,0,2000,1000);

        img = document.getElementById("img-equality")
        ctx.drawImage(img, 20, 170, 100, 100);
        img = document.getElementById("img-wealth")
        ctx.drawImage(img, 680, 170, 100, 100)
        img = document.getElementById("img-might")
        ctx.drawImage(img, 20, 290, 100, 100)
        img = document.getElementById("img-peace")
        ctx.drawImage(img, 680, 290, 100, 100)
        img = document.getElementById("img-liberty")
        ctx.drawImage(img, 20, 410, 100, 100)
        img = document.getElementById("img-authority")
        ctx.drawImage(img, 680, 410, 100, 100)
        img = document.getElementById("img-tradition")
        ctx.drawImage(img, 20, 530, 100, 100)
        img = document.getElementById("img-progress")
        ctx.drawImage(img, 680, 530, 100, 100)

        ctx.fillStyle="#222222"
        ctx.fillRect(120, 180, 560, 80)
        ctx.fillRect(120, 300, 560, 80)
        ctx.fillRect(120, 420, 560, 80)
        ctx.fillRect(120, 540, 560, 80)
        ctx.fillStyle="#f44336"
        ctx.fillRect(120, 184, 5.6*courage-2, 72)
        ctx.fillStyle="#00897b"
        ctx.fillRect(682-5.6*fear, 184, 5.6*fear-2, 72)
        ctx.fillStyle="#ff9800"
        ctx.fillRect(120, 304, 5.6*purity-2, 72)
        ctx.fillStyle="#03a9f4"
        ctx.fillRect(682-5.6*poison, 304, 5.6*poison-2, 72)
        ctx.fillStyle="#ffeb3b"
        ctx.fillRect(120, 424, 5.6*faith-2, 72)
        ctx.fillStyle="#3f51b5"
        ctx.fillRect(682-5.6*fragmentation, 424, 5.6*fragmentation-2, 72)
        ctx.fillStyle="#8bc34a"
        ctx.fillRect(120, 544, 5.6*creation-2, 72)
        ctx.fillStyle="#9c27b0"
        ctx.fillRect(682-5.6*disintigration, 544, 5.6*disintigration-2, 72)
        ctx.fillStyle="#ffeb3b"
        ctx.fillRect(120, 664, 5.6*prosperity-2, 72)
        ctx.fillStyle="#3f51b5"
        ctx.fillRect(682-5.6*hunger, 664, 5.6*hunger-2, 72)
        ctx.fillStyle="#8bc34a"
        ctx.fillRect(120, 784, 5.6*peace-2, 72)
        ctx.fillStyle="#9c27b0"
        ctx.fillRect(682-5.6*anger, 784, 5.6*anger-2, 72)
        ctx.fillStyle="#222222"
        ctx.font="700 80px Montserrat"
        ctx.textAlign="left"
        ctx.fillText("6values", 20, 90)
        ctx.font="50px Montserrat"
        ctx.fillText(ideology, 20, 140)

        ctx.textAlign="left"
        if (courage  > 30) {ctx.fillText(courage + "%", 130, 237.5)}
        if (purity     > 30) {ctx.fillText(purity + "%", 130, 357.5)}
        if (faith   > 30) {ctx.fillText(faith + "%", 130, 477.5)}
        if (creation > 30) {ctx.fillText(creation + "%", 130, 597.5)}
        if (prosperity   > 30) {ctx.fillText(prosperity + "%", 130, 717.5)}
        if (peace > 30) {ctx.fillText(peace + "%", 130, 837.5)}
        ctx.textAlign="right"
        if (fear   > 30) {ctx.fillText(fear + "%", 670, 237.5)}
        if (poison     > 30) {ctx.fillText(poison + "%", 670, 357.5)}
        if (fragmentation > 30) {ctx.fillText(fragmentation + "%", 670, 477.5)}
        if (disintigration  > 30) {ctx.fillText(disintigration + "%", 670, 597.5)}
        if (hunger > 30) {ctx.fillText(hunger + "%", 670, 477.5)}
        if (anger  > 30) {ctx.fillText(anger + "%", 670, 597.5)}

        ctx.font="300 30px Montserrat"
        ctx.fillText("6principles", 780, 60)
		ctx.fillText(version, 780, 90)
        ctx.textAlign="center"
        ctx.fillText("Heroic Axis: " + document.getElementById("heroic-label").innerHTML, 400, 175)
        ctx.fillText("Sanctity Axis: " + document.getElementById("sanctity-label").innerHTML, 400, 295)
        ctx.fillText("Collaboration Axis: " + document.getElementById("collaboration-label").innerHTML, 400, 415)
        ctx.fillText("Creation Axis: " + document.getElementById("creation-label").innerHTML, 400, 535)
        ctx.fillText("Bounty Axis: " + document.getElementById("bounty-label").innerHTML, 400, 655)
        ctx.fillText("Conflict Axis: " + document.getElementById("conflict-label").innerHTML, 400, 775)

        document.getElementById("banner").src = c.toDataURL();
    }
    </script>
</body>
